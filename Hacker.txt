(function () {
  const menuId = "webChangerMenu";

  if (document.getElementById(menuId)) {
    alert("El men√∫ ya est√° activo.");
    return;
  }

  // Crear el contenedor del men√∫
  const menu = document.createElement("div");
  menu.id = menuId;
  menu.style.position = "fixed";
  menu.style.top = "0";
  menu.style.right = "0";
  menu.style.width = "300px";
  menu.style.height = "100vh";
  menu.style.background = "linear-gradient(135deg, orange, red)";
  menu.style.color = "white";
  menu.style.borderRadius = "0 0 0 15px";
  menu.style.boxShadow = "-2px 0 10px rgba(0, 0, 0, 0.2)";
  menu.style.zIndex = "9999";
  menu.style.fontFamily = "Arial, sans-serif";
  menu.style.overflow = "hidden";
  menu.style.transition = "all 0.3s ease";

  // Estado del idioma
  let idioma = "es";

  // Encabezado del men√∫
  const header = document.createElement("div");
  header.style.padding = "15px";
  header.style.textAlign = "center";
  header.style.fontSize = "18px";
  header.style.fontWeight = "bold";
  header.style.borderBottom = "2px solid rgba(255, 255, 255, 0.2)";
  header.innerHTML = `<span id='menuTitle'>TheWebChanger 3.0</span> <br><a href='https://github.com/TheSupremeHackerr/Web-Hacker.git' target='_blank' style='color: #ffdd00; text-decoration: none;'>GitHub Repository</a>`;

  menu.appendChild(header);

  // Bot√≥n de cambio de idioma
  const languageSwitcher = document.createElement("div");
  languageSwitcher.style.textAlign = "center";
  languageSwitcher.style.margin = "10px 0";
  const esFlag = document.createElement("span");
  esFlag.textContent = "üá™üá∏";
  esFlag.style.cursor = "pointer";
  esFlag.onclick = () => changeLanguage("es");
  const enFlag = document.createElement("span");
  enFlag.textContent = "üá¨üáß";
  enFlag.style.cursor = "pointer";
  enFlag.onclick = () => changeLanguage("en");
  languageSwitcher.appendChild(esFlag);
  languageSwitcher.appendChild(document.createTextNode(" | "));
  languageSwitcher.appendChild(enFlag);
  menu.appendChild(languageSwitcher);

  // Contenedor de botones
  const buttonContainer = document.createElement("div");
  buttonContainer.style.maxHeight = "calc(100vh - 120px)";
  buttonContainer.style.overflowY = "auto";

  // Definir funciones reales
  const funciones = [
    {
      es: "Cambiar color de fondo",
      en: "Change background color",
      accion: () => {
        document.body.style.backgroundColor = `#${Math.floor(Math.random() * 16777215).toString(16)}`;
      },
    },
    {
      es: "Mostrar confeti",
      en: "Show confetti",
      accion: () => {
        const confettiScript = document.createElement("script");
        confettiScript.src = "https://cdn.jsdelivr.net/npm/canvas-confetti";
        confettiScript.onload = () => {
          confetti({ spread: 70, origin: { y: 0.6 } });
        };
        document.body.appendChild(confettiScript);
      },
    },
    {
      es: "Juego: Atrapa el c√≠rculo",
      en: "Game: Catch the circle",
      accion: () => {
        const circle = document.createElement("div");
        circle.style.position = "fixed";
        circle.style.top = `${Math.random() * 80 + 10}%`;
        circle.style.left = `${Math.random() * 80 + 10}%`;
        circle.style.width = "50px";
        circle.style.height = "50px";
        circle.style.borderRadius = "50%";
        circle.style.background = "blue";
        circle.style.cursor = "pointer";
        circle.onclick = () => {
          alert(idioma === "es" ? "¬°Lo atrapaste!" : "You caught it!");
          circle.remove();
        };
        document.body.appendChild(circle);
      },
    },
    {
      es: "Fuegos artificiales",
      en: "Fireworks",
      accion: () => {
        const fireworkScript = document.createElement("script");
        fireworkScript.src = "https://cdn.jsdelivr.net/npm/canvas-confetti";
        fireworkScript.onload = () => {
          confetti({ particleCount: 200, spread: 160 });
        };
        document.body.appendChild(fireworkScript);
      },
    },
    {
      es: "Rickroll",
      en: "Rickroll",
      accion: () => {
        const rickrollIframe = document.createElement("iframe");
        rickrollIframe.src = "https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1";
        rickrollIframe.style.position = "fixed";
        rickrollIframe.style.top = "50%";
        rickrollIframe.style.left = "50%";
        rickrollIframe.style.transform = "translate(-50%, -50%)";
        rickrollIframe.style.width = "80vw";
        rickrollIframe.style.height = "80vh";
        rickrollIframe.style.border = "none";
        rickrollIframe.style.zIndex = "10000";
        
        const closeButton = document.createElement("button");
        closeButton.textContent = "Cerrar Rickroll";
        closeButton.style.position = "fixed";
        closeButton.style.top = "10px";
        closeButton.style.right = "10px";
        closeButton.style.zIndex = "10001";
        closeButton.style.padding = "10px";
        closeButton.style.backgroundColor = "red";
        closeButton.style.color = "white";
        closeButton.style.border = "none";
        closeButton.style.cursor = "pointer";
        closeButton.onclick = () => {
          rickrollIframe.remove();
          closeButton.remove();
        };
        
        document.body.appendChild(rickrollIframe);
        document.body.appendChild(closeButton);
      },
    },
    {
      es: "Cambiar tipo de fuente",
      en: "Change font type",
      accion: () => {
        const fonts = ["Arial", "Courier New", "Georgia", "Tahoma", "Verdana", "Comic Sans MS"];
        document.body.style.fontFamily = fonts[Math.floor(Math.random() * fonts.length)];
      },
    },
    {
      es: "Modo discoteca",
      en: "Disco mode",
      accion: () => {
        let interval = setInterval(() => {
          document.body.style.backgroundColor = `#${Math.floor(Math.random() * 16777215).toString(16)}`;
        }, 500);
        setTimeout(() => clearInterval(interval), 10000);
      },
    },
const nuevasFunciones = [
  {
    es: "Juego: Adivina el n√∫mero",
    en: "Game: Guess the number",
    accion: () => {
      const number = Math.floor(Math.random() * 100) + 1;
      const guess = prompt(idioma === "es" ? "Adivina el n√∫mero entre 1 y 100" : "Guess the number between 1 and 100");
      alert(guess == number ? (idioma === "es" ? "¬°Correcto!" : "Correct!") : (idioma === "es" ? `Incorrecto, era ${number}` : `Incorrect, it was ${number}`));
    },
  },
  {
    es: "Mostrar reloj",
    en: "Show clock",
    accion: () => {
      const clock = document.createElement("div");
      clock.style.position = "fixed";
      clock.style.bottom = "20px";
      clock.style.right = "20px";
      clock.style.fontSize = "24px";
      clock.style.fontWeight = "bold";
      clock.style.color = "white";
      clock.style.backgroundColor = "rgba(0, 0, 0, 0.5)";
      clock.style.padding = "10px";
      clock.style.borderRadius = "5px";
      clock.style.zIndex = "10000";

      setInterval(() => {
        const date = new Date();
        clock.textContent = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;
      }, 1000);

      document.body.appendChild(clock);
    },
  },
  {
    es: "Efecto de lluvia",
    en: "Rain effect",
    accion: () => {
      const rainScript = document.createElement("script");
      rainScript.src = "https://cdn.jsdelivr.net/npm/rainyday.js";
      rainScript.onload = () => {
        const rainyday = new RainyDay();
        rainyday.size(5).effect('rain', document.body);
      };
      document.body.appendChild(rainScript);
    },
  },
  {
    es: "Efecto de niebla",
    en: "Fog effect",
    accion: () => {
      const fogScript = document.createElement("script");
      fogScript.src = "https://cdn.jsdelivr.net/npm/foggy";
      fogScript.onload = () => {
        $('body').foggy({ blurRadius: 4, opacity: 0.6 });
      };
      document.body.appendChild(fogScript);
    },
  },
  {
    es: "Juego: Serpiente",
    en: "Game: Snake",
    accion: () => {
      const snakeGame = document.createElement("iframe");
      snakeGame.src = "https://www.google.com/search?q=snake+game";
      snakeGame.style.position = "fixed";
      snakeGame.style.top = "50%";
      snakeGame.style.left = "50%";
      snakeGame.style.transform = "translate(-50%, -50%)";
      snakeGame.style.width = "80vw";
      snakeGame.style.height = "80vh";
      snakeGame.style.zIndex = "10000";
      snakeGame.style.border = "none";
      const closeButton = document.createElement("button");
      closeButton.textContent = "Cerrar";
      closeButton.style.position = "fixed";
      closeButton.style.top = "10px";
      closeButton.style.right = "10px";
      closeButton.style.zIndex = "10001";
      closeButton.style.padding = "10px";
      closeButton.style.backgroundColor = "red";
      closeButton.style.color = "white";
      closeButton.style.border = "none";
      closeButton.style.cursor = "pointer";
      closeButton.onclick = () => {
        snakeGame.remove();
        closeButton.remove();
      };
      document.body.appendChild(snakeGame);
      document.body.appendChild(closeButton);
    },
  },
  {
    es: "Generar c√≥digo QR",
    en: "Generate QR code",
    accion: () => {
      const url = prompt(idioma === "es" ? "Introduce la URL para generar un c√≥digo QR" : "Enter the URL to generate a QR code");
      const qrScript = document.createElement("script");
      qrScript.src = "https://cdn.jsdelivr.net/npm/qrcode";
      qrScript.onload = () => {
        const qrContainer = document.createElement("div");
        new QRCode(qrContainer, url);
        qrContainer.style.position = "fixed";
        qrContainer.style.top = "50%";
        qrContainer.style.left = "50%";
        qrContainer.style.transform = "translate(-50%, -50%)";
        qrContainer.style.zIndex = "10000";
        document.body.appendChild(qrContainer);
      };
      document.body.appendChild(qrScript);
    },
  },
  {
    es: "Generar imagen aleatoria",
    en: "Generate random image",
    accion: () => {
      const img = document.createElement("img");
      img.src = `https://source.unsplash.com/random/800x600`;
      img.style.position = "fixed";
      img.style.top = "50%";
      img.style.left = "50%";
      img.style.transform = "translate(-50%, -50%)";
      img.style.zIndex = "10000";
      img.style.border = "none";
      const closeButton = document.createElement("button");
      closeButton.textContent = "Cerrar";
      closeButton.style.position = "fixed";
      closeButton.style.top = "10px";
      closeButton.style.right = "10px";
      closeButton.style.zIndex = "10001";
      closeButton.style.padding = "10px";
      closeButton.style.backgroundColor = "red";
      closeButton.style.color = "white";
      closeButton.style.border = "none";
      closeButton.style.cursor = "pointer";
      closeButton.onclick = () => {
        img.remove();
        closeButton.remove();
      };
      document.body.appendChild(img);
      document.body.appendChild(closeButton);
    },
  },
  {
    es: "Piano virtual",
    en: "Virtual piano",
    accion: () => {
      const pianoIframe = document.createElement("iframe");
      pianoIframe.src = "https://www.onlinepianist.com/virtual-piano";
      pianoIframe.style.position = "fixed";
      pianoIframe.style.top = "50%";
      pianoIframe.style.left = "50%";
      pianoIframe.style.transform = "translate(-50%, -50%)";
      pianoIframe.style.width = "80vw";
      pianoIframe.style.height = "80vh";
      pianoIframe.style.zIndex = "10000";
      pianoIframe.style.border = "none";
      const closeButton = document.createElement("button");
      closeButton.textContent = "Cerrar";
      closeButton.style.position = "fixed";
      closeButton.style.top = "10px";
      closeButton.style.right = "10px";
      closeButton.style.zIndex = "10001";
      closeButton.style.padding = "10px";
      closeButton.style.backgroundColor = "red";
      closeButton.style.color = "white";
      closeButton.style.border = "none";
      closeButton.style.cursor = "pointer";
      closeButton.onclick = () => {
        pianoIframe.remove();
        closeButton.remove();
      };
      document.body.appendChild(pianoIframe);
      document.body.appendChild(closeButton);
    },
  },
  {
    es: "Reproducir m√∫sica",
    en: "Play music",
    accion: () => {
      const audio = new Audio("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3");
      audio.play();
    },
  },
  {
    es: "Efecto de luces intermitentes",
    en: "Flashing lights effect",
    accion: () => {
      let flashInterval = setInterval(() => {
        document.body.style.backgroundColor = document.body.style.backgroundColor === "white" ? "black" : "white";
      }, 200);
      setTimeout(() => clearInterval(flashInterval), 5000);
    },
  },
  {
    es: "Efecto de distorsi√≥n",
    en: "Distortion effect",
    accion: () => {
      document.body.style.transform = "scale(1.2)";
      document.body.style.transition = "all 0.5s";
      setTimeout(() => {
        document.body.style.transform = "scale(1)";
      }, 500);
    },
  },
  {
    es: "Juego: Memoria",
    en: "Game: Memory",
    accion: () => {
      alert(idioma === "es" ? "Pr√≥ximamente..." : "Coming soon...");
    },
  },
  {
    es: "Juego: Tic Tac Toe",
    en: "Game: Tic Tac Toe",
    accion: () => {
      alert(idioma === "es" ? "Pr√≥ximamente..." : "Coming soon...");
    },
  },
  {
    es: "Generar un poema aleatorio",
    en: "Generate random poem",
    accion: () => {
      alert(idioma === "es" ? "Pr√≥ximamente..." : "Coming soon...");
    },
  },
  {
    es: "Cambiar imagen de fondo",
    en: "Change background image",
    accion: () => {
      document.body.style.backgroundImage = `url('https://source.unsplash.com/random/1920x1080')`;
      document.body.style.backgroundSize = "cover";
    },
  },
  {
    es: "Efecto de terremoto",
    en: "Earthquake effect",
    accion: () => {
      const shake = document.createElement("style");
      shake.innerHTML = `
        @keyframes shake { 
          0% { transform: translateX(0); }
          25% { transform: translateX(-10px); }
          50% { transform: translateX(10px); }
          75% { transform: translateX(-10px); }
          100% { transform: translateX(0); }
        }
        body { animation: shake 0.5s linear infinite; }
      `;
      document.head.appendChild(shake);
      setTimeout(() => document.head.removeChild(shake), 5000);
    },
  

    {
      es: "Juego: Dinosaurio de Google",
      en: "Game: Google Dinosaur",
      accion: () => {
        const dinoGame = document.createElement("iframe");
        dinoGame.src = "https://chromedino.com/";
        dinoGame.style.position = "fixed";
        dinoGame.style.top = "50%";
        dinoGame.style.left = "50%";
        dinoGame.style.transform = "translate(-50%, -50%)";
        dinoGame.style.width = "80vw";
        dinoGame.style.height = "80vh";
        dinoGame.style.zIndex = "10000";
        dinoGame.style.border = "none";
        const closeButton = document.createElement("button");
        closeButton.textContent = "Cerrar";
        closeButton.style.position = "fixed";
        closeButton.style.top = "10px";
        closeButton.style.right = "10px";
        closeButton.style.zIndex = "10001";
        closeButton.style.padding = "10px";
        closeButton.style.backgroundColor = "red";
        closeButton.style.color = "white";
        closeButton.style.border = "none";
        closeButton.style.cursor = "pointer";
        closeButton.onclick = () => {
          dinoGame.remove();
          closeButton.remove();
        };
        document.body.appendChild(dinoGame);
        document.body.appendChild(closeButton);
      },
    }
  ];

  funciones.forEach((funcion) => {
    const button = document.createElement("button");
    button.textContent = idioma === "es" ? funcion.es : funcion.en;
    button.style.display = "block";
    button.style.width = "calc(100% - 20px)";
    button.style.margin = "10px auto";
    button.style.padding = "10px";
    button.style.border = "none";
    button.style.borderRadius = "5px";
    button.style.background = "#ffffff";
    button.style.color = "#333";
    button.style.cursor = "pointer";
    button.onclick = funcion.accion;
    buttonContainer.appendChild(button);
  });

  menu.appendChild(buttonContainer);
  document.body.appendChild(menu);

  function changeLanguage(lang) {
    idioma = lang;
    document.getElementById("menuTitle").textContent = lang === "es" ? "TheWebChanger 3.0" : "TheWebChanger 3.0";
    const buttons = buttonContainer.querySelectorAll("button");
    funciones.forEach((funcion, index) => {
      buttons[index].textContent = lang === "es" ? funcion.es : funcion.en;
    });
  }
})();





